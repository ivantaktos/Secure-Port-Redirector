# ğŸ” Secure Port Redirector (via SSLStream)

Ce projet est un redirecteur de flux sÃ©curisÃ©, dÃ©veloppÃ© en C#. Il redirige uniquement le trafic d'un port si le client est authentifiÃ© Ã  lâ€™aide dâ€™un certificat SSL. Il repose sur lâ€™utilisation de `SSLStream` pour garantir une communication sÃ©curisÃ©e entre le client et le serveur.

## âœ¨ FonctionnalitÃ©s

- ğŸ” Redirection de flux rÃ©seau entre client et serveur.
- ğŸ›¡ï¸ Authentification forte via certificats SSL.
- âš™ï¸ GÃ©nÃ©ration automatique des certificats et configuration.
- ğŸ’¼ Compatible Windows (avec .NET 8.0).
- ğŸ§ª Build & publish automatisÃ© avec `dotnet`.
- ğŸ“¦ Client embedded

---

## ğŸš€ Installation

> ğŸ’¡ Ce projet a Ã©tÃ© testÃ© uniquement sous **Windows**. Cependant il est possible d'hÃ©berger le serveur sur linux en remplaÃ§ant le `<RuntimeIdentifier>win-x64</RuntimeIdentifier>` par `<RuntimeIdentifier>linux-x64</RuntimeIdentifier>` dans `server/server.csproj`

### PrÃ©requis

- une machine sous windows (7, 8.1, 10, 11, serveur, etc) pour gÃ©nÃ©rer les executables avec `compile.bat` et hÃ©berger le serveur
- PowerShell
- AccÃ¨s Ã  Internet pour l'installation des composant

### Ã‰tapes d'installation automatique

Le script Python fourni installe automatiquement :
- Le SDK .NET 8.0
- 7-Zip (version CLI `7zr.exe` / `7za.exe`)
- OpenSSL Windows (prÃ©compilÃ©)
- GÃ©nÃ¨re les certificats client/serveur
- Modifie les fichiers `Program.cs` avec les bons paramÃ¨tres
- Compile et publie les projets client et serveur

### ExÃ©cution du script

## Modifier la configuration dans le fichier **`conf.json`** et spÃ©cifiez vos adresse IP et les ports associÃ©s

```json
{
  "client": {
    "RemoteIP": "127.0.0.1", // IP du serveur de redirection celui exposÃ© sur internet
    "RemotePort": 50000,     // Port exposÃ© sur internet
    "ListenPort": 443        // Port sur lequel le flux sera dupliquÃ© et auquel vous devez vous connecter (ex: localhost:443)
  },
  "server": {
    "DestinationIP": "127.0.0.1", // IP de l'appareil qui doit recevoir la requÃªte (ex: localhost:445) pour un service qui Ã©coute sur le port 445 de la machine local (peut Ãªtre une machine sur le mÃªme rÃ©seau tel qu'un nas).
    "DestinationPort": 445,       // Port sur lequel Ã©coute le service comme spÃ©cifiÃ© plus haut
    "ListenPort": 50000           // Port d'Ã©coute du redirecteur de flux -> doit Ãªtre ouvert sur internet !
  }
}

```

## AprÃ¨s avoir modifiÃ© la configuration exÃ©cutez : `compile.bat`

### > Le serveur de redirection se trouve dans : `./server/bin/Release/net8.0/server.exe`
### > Le client se trouve dans : `./client/bin/Release/net8.0/client.exe`

## ğŸ§ª Exemple d'utilisation
### Une fois les binaires compilÃ©s :

### 1. Lance le serveur sur la machine dont le port du redirecteur est exposÃ©:
```./server/bin/Release/net8.0-windows/server.exe```

### 2. Lance le client sur n'importe quelle machine windows :

```./client/bin/Release/net8.0-windows/client.exe```

## Vous pouvez maintenant accÃ¨der a votre service via `localhost:<ListenPort>` sur le poste client depuis n'importe oÃ¹.


## ğŸ“ Licence
### Ce projet est sous licence MIT. Voir le fichier LICENSE pour plus dâ€™informations.

## ğŸ¤ Contributions
#### Les contributions sont les bienvenues ! Nâ€™hÃ©sitez pas Ã  ouvrir une issue ou une pull request pour amÃ©liorer le projet ou ajouter des fonctionnalitÃ©s.